---
const pathname = Astro.url.pathname;
const pathnames = pathname.split('/').filter((x) => x);
---

{pathnames.length > 0 && (
  <nav class="container mx-auto px-4 py-4 text-xs font-black uppercase tracking-widest text-slate-400">
    <ul class="flex items-center space-x-2">
      <li>
        <a href="/" class="hover:text-brand-primary">Home</a>
      </li>
      {pathnames.map((value, index) => {
        const last = index === pathnames.length - 1;
        const to = `/${pathnames.slice(0, index + 1).join('/')}`;
        const label = value.replace(/-/g, ' ');

        return (
          <li class="flex items-center space-x-2">
            <span class="text-slate-300">/</span>
            {last ? (
              <span class="text-brand-primary">{label}</span>
            ) : (
              <a href={to} class="hover:text-brand-primary">{label}</a>
            )}
          </li>
        );
      })}
    </ul>
  </nav>
)}
